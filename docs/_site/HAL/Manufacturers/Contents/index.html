<!-- tsGuideRenderComment {"guide":{"id":"eb1Rfe1jg","path":"HAL/Manufacturers","fragmentFolderPath":"HAL/Manufacturers/Contents_frags"}} -->

<h2 id="abb">ABB</h2>

<p><a href="#0-tips">0. Tips</a></p>

<p><a href="#1-controller-options">1. Controller Options</a></p>

<p><a href="#2-uploading-code">2. Uploading Code</a></p>

<p><a href="#3-simulation">3. Simulation</a></p>

<hr />

<h3 id="0-tips">0. Tips</h3>

<ol>
  <li>Your <a href="/HAL/Overview/Glossary#controller">Controller</a> must be in <em>automatic</em> mode to <a href="/HAL/Overview/Glossary#upload">Upload</a> code.</li>
  <li>Before <a href="/HAL/Overview/Glossary#upload">Uploading</a> any new <a href="/HAL/Overview/Glossary#procedure">Procedures</a>, ensure that all other <em>Modules</em> (which aren’t required for system variables) are unloaded. Otherwise there is a risk of a clash between two loaded <em>Main</em> procedures or automatically named variables.</li>
</ol>

<hr />
<h3 id="1-controller-options">1. Controller Options</h3>

<h4 id="objective">Objective:</h4>

<p>In this section we’ll explain which <strong>Subsystems</strong> are available in the HAL Robotics Framework for Universal Robots and that their <strong>Capabilities</strong> are. These will be used when you <a href="/HAL/Grasshopper/6-Control#61-configure-a-virtual-controller">Configure a Virtual Controller</a>.</p>

<h4 id="background">Background:</h4>

<p>Industrial <a href="/HAL/Overview/Glossary#controller">Controllers</a> are typically comprised of core functionality, such as the ability to run a program, extended through optional extras, like communication protocols or multi-<a href="/HAL/Overview/Glossary#manipulator">Robot</a> support. To ensure that we only try and interact with your real <a href="/HAL/Overview/Glossary#controller">Controller</a> in a way that is compatible, be it through a network or with exported code, we have added a means to configure your <a href="/HAL/Overview/Glossary#controller">Controller</a>. The constituent parts of this are:</p>

<p>a.  Controller - this is essentially a computer to which your <a href="/HAL/Overview/Glossary#manipulator">Robot</a> and <a href="/HAL/Overview/Glossary#signal">Signals</a> are connected.</p>

<p>b.  <a href="/HAL/Overview/Glossary#capabilities">Capabilities</a> - these are how we organize what a <a href="/HAL/Overview/Glossary#controller">Controller</a> can do and draw parallels between different manufacturers’ <a href="/HAL/Overview/Glossary#controller">Controllers</a>. <em>Capabilities</em> are things like the ability to <a href="/HAL/Overview/Glossary#upload">Upload</a> code to the <a href="/HAL/Overview/Glossary#controller">Controller</a> from a PC or the ability to read the values of <a href="/HAL/Overview/Glossary#signal">Signals</a> remotely.</p>

<p>c.  <a href="/HAL/Overview/Glossary#subsystems">Subsystems</a> - these are similar to the options you have in your <a href="/HAL/Overview/Glossary#controller">Controller</a>. They are the actual software modules that implement different <em>Capabilities</em>.</p>

<h4 id="details">Details:</h4>

<p>You’ll find a number of different ABB controllers in our catalogs but between the multiple <em>OmniCore</em> and <em>IRC5</em> versions the only major difference is the geometry. The <a href="/HAL/Overview/Glossary#controller">Controller</a> type (<em>OmniCore</em> or <em>IRC5</em>) will also define which software versions are available and therefore which <a href="/HAL/Overview/Glossary#subsystems">Subsystems</a> can be chosen.</p>

<table>
  <thead>
    <tr>
      <th>Subsystem Name</th>
      <th>Description</th>
      <th>Capabilities</th>
      <th>Configuration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ABB RAPID X.X</td>
      <td>Translates <a href="/HAL/Overview/Glossary#procedure">Procedures</a> to ABB’s RAPID programming language.</td>
      <td><a href="/HAL/Overview/Glossary#capabilities">Language</a></td>
      <td>&gt; Enabled - Whether to export the procedure.<br />&gt; Library Mode - Whether to export code that will run directly or that can be called from another function.<br />&gt; Max Actions - Maximum number of actions to have in a single <em>.mod</em> file. Any more and the <a href="/HAL/Overview/Glossary#procedure">Procedure</a> will be created in multiple files. The maximum allowed by ABB is around 35,000 lines.<br />&gt; Task Alias - Name of the <em>Task</em> into which the <a href="/HAL/Overview/Glossary#procedure">Procedure</a> should be <a href="/HAL/Overview/Glossary#upload">uploaded</a>.</td>
    </tr>
    <tr>
      <td>PCSDK</td>
      <td>Remote <a href="/HAL/Overview/Glossary#controller">Controller</a> interaction library (available in RobotWares before 7.x) which requires the installation of he SDK with either RobotStudio or with the HAL.ABB extension.</td>
      <td><a href="/HAL/Overview/Glossary#capabilities">Upload</a><br /><a href="/HAL/Overview/Glossary#capabilities">Execution</a><br /><a href="/HAL/Overview/Glossary#capabilities">Monitor</a><br /><a href="/HAL/Overview/Glossary#capabilities">File Manager</a><br /><a href="/HAL/Overview/Glossary#capabilities">Read Signals</a><br /><a href="/HAL/Overview/Glossary#capabilities">Write Signals</a><br /><a href="/HAL/Overview/Glossary#capabilities">Logger</a><br /><a href="/HAL/Overview/Glossary#capabilities">Backup</a></td>
      <td>&gt; IP - IP address of your remote robot or simulator.<br />&gt; Credentials - Credentials needed to log in to the robot (or <a href="#3-simulation">simulator</a>) remotely. Defaults will work unless they have been changed in your robot’s settings. <br />&gt; Detected Controllers - Selectable controllers which the PCSDK has discovered on your network.</td>
    </tr>
    <tr>
      <td>Robot Web Services (RWS)</td>
      <td>Successor to the PCSDK which allows HTTP-based communication with the <a href="/HAL/Overview/Glossary#controller">controller</a> (available in RobotWares 6.x or later).</td>
      <td><a href="/HAL/Overview/Glossary#capabilities">Upload</a><br /><a href="/HAL/Overview/Glossary#capabilities">Execution</a><br /><a href="/HAL/Overview/Glossary#capabilities">Monitor</a><br /><a href="/HAL/Overview/Glossary#capabilities">File Manager</a><br /><a href="/HAL/Overview/Glossary#capabilities">Read Signals</a><br /><a href="/HAL/Overview/Glossary#capabilities">Write Signals</a><br /><a href="/HAL/Overview/Glossary#capabilities">Logger</a><br /><a href="/HAL/Overview/Glossary#capabilities">Execution Monitoring</a></td>
      <td>&gt; IP - IP address of your remote robot or simulator.<br />&gt; Credentials - Credentials needed to log in to the robot (or <a href="#3-simulation">simulator</a>) remotely. Defaults will work unless they have been changed in your robot’s settings.</td>
    </tr>
    <tr>
      <td>Externally Guided Motion (EGM)</td>
      <td>Enables low-latency state streaming to/from the <a href="/HAL/Overview/Glossary#controller">controller</a> via ABB’s Externally Guided Motion (EGM) protocol. This requires a software option from ABB and configuration on the <a href="/HAL/Overview/Glossary#controller">controller</a>.</td>
      <td><a href="/HAL/Overview/Glossary#capabilities">Monitor</a><br /><a href="/HAL/Overview/Glossary#capabilities">Stream</a><br /><a href="/HAL/Overview/Glossary#capabilities">Receive State</a></td>
      <td>&gt; IP - IP address of your remote robot or simulator.<br />&gt; Port - Port configured on the <a href="/HAL/Overview/Glossary#controller">controller</a> to receive EGM commands.</td>
    </tr>
  </tbody>
</table>

<hr />
<h3 id="2-uploading-code">2. Uploading Code</h3>

<h4 id="objective-1">Objective:</h4>

<p>In this section we’ll explain how to get the <a href="/HAL/Overview/Glossary#procedure">Procedures</a> you’ve generated onto your robot. There are two different ways to do this, either <a href="#manual">manually</a> or <a href="#remote">remotely</a>.</p>

<h4 id="remote">Remote:</h4>

<ol>
  <li>Ensure your controller is configured to communicate with your controller. See <a href="#1-controller-options">Controller Options</a> and <a href="/HAL/Grasshopper/6-Control#61-configure-a-virtual-controller">Configure a Virtual Controller</a> for more details about what your options are.</li>
  <li>Follow the instructions in <a href="/HAL/Grasshopper/6-Control#63-upload-a-procedure">Upload a Procedure</a>.</li>
  <li>That’s all!</li>
</ol>

<h4 id="manual-via-teach-pendant">Manual (via Teach Pendant):</h4>

<ol>
  <li><a href="/HAL/Grasshopper/6-Control#62-export-a-procedure">Export</a> your <a href="/HAL/Overview/Glossary#procedure">Procedure</a> to a known directory.</li>
  <li>Copy the <em>{ProcedureName}.mod</em> file onto a USB stick.</li>
  <li>Insert the USB stick into the USB port on the teach pendant.</li>
  <li>
    <p>Navigate to the <em>Program Editor</em> and select <em>Modules</em> (in the top centre of the screen) -&gt; <em>File</em> -&gt; <em>Load Module</em>.
<a href="/HAL/assets/images/Manufacturers/ABB/ABBViewModules.PNG"><center><img src="/HAL/assets/images/Manufacturers/ABB/ABBViewModules.PNG" /></center></a>
<em>Edit the Program and Load a Module.</em></p>
  </li>
  <li>Navigate to your Module file on the USB stick and click <em>OK</em>.</li>
  <li>Return to the <em>Production Window</em>.</li>
  <li>Select <em>PP to Main</em>.</li>
  <li>You are now ready to run your <a href="/HAL/Overview/Glossary#procedure">Procedure</a>.</li>
</ol>

<hr />
<h3 id="3-simulation">3. Simulation</h3>

<h4 id="objective-2">Objective:</h4>

<p>Whilst we expect most users to use our own <a href="/HAL/Overview/Glossary#73-simulation">simulation</a> tools for the majority of their cases, there may be a reason (e.g. cycle time analysis, or validation of the robot’s limits) that you want to run your <a href="/HAL/Overview/Glossary#procedure">Procedures</a> on a manufacturer-provided simulator. This section details what you’ll need and how to configure that simulator.</p>

<h4 id="requirements-to-follow-along">Requirements to follow along:</h4>

<ul>
  <li>Windows PC</li>
</ul>

<h4 id="how-to">How to:</h4>

<p>ABB’s robot simulation tool is <a href="https://new.abb.com/products/robotics/robotstudio">RobotStudio</a>. A license is required for advanced functionality but to test basic code functionality you can simply do the following:</p>
<ol>
  <li>Open RobotStudio</li>
  <li>If this is the first time you’re opening RobotStudio, it will direct you to install a RobotWare version. Install the same version as your real <a href="/HAL/Overview/Glossary#controller">controller</a>.</li>
  <li>Create a new empty <em>Station</em>.</li>
  <li>From the <strong>Home</strong> tab, select <em>Virtual Controller</em> -&gt; <em>New Controller</em>.</li>
  <li>Pick your robot, RobotWare and Controller configuring it to match your exact version.</li>
  <li>Check the <em>Customize options</em> box and match the options on your real robot.</li>
  <li>This will now start a virtual controller and instantiate a model of your robot. It may take a minute or two.</li>
  <li>You can now use this robot exactly as you would the real robot using the loopback IP address <em>127.0.0.1</em> from the HAL Robotics Framework.</li>
</ol>

<p>A few extra tips, if things aren’t quite working as expected:</p>
<ul>
  <li>If RobotWebServices (RWS) isn’t working in your simulated environment, you may need to enable it using the instructions from ABB <a href="https://forums.robotstudio.com/discussion/comment/36060#Comment_36060?utm_source=community-search&amp;utm_medium=organic-search&amp;utm_term=robotwebservices">here</a>. For those experienced with ABB robots and controllers the TL;DR is - activation can be found under <em>Configuration -&gt; Communication -&gt; Firewall Manager -&gt; RobotWebServices -&gt; Enable</em></li>
  <li>If you want to access your virtual controller from another PC that can be done using the instructions from ABB <a href="https://forums.robotstudio.com/discussion/12082/using-robotwebservices-to-access-a-remote-virtual-controller">here</a>.</li>
</ul>
